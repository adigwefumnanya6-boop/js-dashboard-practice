<!doctype html>
<html>
  <head>
    <title>Assignment Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body
    class="bg-gray-100 dark:bg-gray-900 font-sans transition-colors duration-300"
  >
    <!-- navbar -->
    <nav
      class="bg-white dark:bg-gray-800 shadow-sm px-6 py-4 flex justify-between items-center transition-colors duration-300"
    >
      <span class="text-gray-800 dark:text-white font-bold text-lg"
        >Student Dashboard</span
      >
      <button
        onclick="toggleDark()"
        id="darkBtn"
        class="text-xl bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full w-9 h-9 flex items-center justify-center cursor-pointer transition-colors"
      >
        ðŸŒ™
      </button>
    </nav>

    <div
      class="bg-white dark:bg-gray-800 rounded-xl mx-6 mt-6 p-10 text-center shadow-md transition-colors duration-300"
    >
      <h2 class="text-lg font-bold text-gray-700 dark:text-white mb-5">
        Counter
      </h2>

      <div
        id="counterDisplay"
        class="text-7xl font-bold text-gray-900 dark:text-white my-4 mb-8"
      >
        0
      </div>

      <div class="flex justify-center gap-3">
        <button
          onclick="decrese()"
          class="bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-5 py-2 text-lg cursor-pointer"
        >
          -
        </button>
        <button
          onclick="resetCounter()"
          class="bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-5 py-2 text-lg cursor-pointer"
        >
          Reset
        </button>
        <button
          onclick="increse()"
          class="bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-5 py-2 text-lg cursor-pointer"
        >
          +
        </button>
      </div>
    </div>

    <div
      class="bg-white dark:bg-gray-800 rounded-xl mx-6 mt-6 p-6 shadow-md transition-colors duration-300"
    >
      <h2 class="text-lg font-bold text-gray-800 dark:text-white mb-4">
        Users
      </h2>
      <button
        onclick="loadUsers()"
        class="bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg px-4 py-2 text-sm cursor-pointer mb-4"
      >
        Load Users
      </button>

      <div id="usersGrid" class="grid grid-cols-3 gap-4"></div>
    </div>

    <script>
      let count = 0;

      function toggleDark() {
        document.documentElement.classList.toggle("dark");
        const isDark = document.documentElement.classList.contains("dark");
        document.getElementById("darkBtn").textContent = isDark ? "â˜€ï¸" : "ðŸŒ™";
        localStorage.setItem("theme", isDark ? "dark" : "light");
      }

      function increse() {
        count++;
        updateDisplay();
      }

      function decrese() {
        if (count > 0) {
          count--;
        }
        // else {
        //   alert("cant go below zero!!");
        // }
        updateDisplay();
      }

      function resetCounter() {
        count = 0;
        updateDisplay();
      }

      function updateDisplay() {
        document.getElementById("counterDisplay").innerHTML = count;
        // document.getElementById("counterDisplay").value = count;
      }

      async function loadUsers() {
        const grid = document.getElementById("usersGrid");

        grid.innerHTML = `<p class="text-gray-500 dark:text-gray-400 text-sm col-span-3">Loading...</p>`;

        const res = await fetch("https://jsonplaceholder.typicode.com/users");
        const users = await res.json();

        await new Promise((resolve) => setTimeout(resolve, 1000));

        grid.innerHTML = "";

        users.forEach((user) => {
          const card = document.createElement("div");
          card.className = "bg-gray-100 dark:bg-gray-700 rounded-xl p-4";
          card.innerHTML = `
            <p class="text-indigo-500 font-bold mb-1">${user.name}</p>
            <p class="text-gray-600 dark:text-gray-300 text-sm"><span class="font-semibold">Email:</span> ${user.email}</p>
            <p class="text-gray-600 dark:text-gray-300 text-sm"><span class="font-semibold">Phone:</span> ${user.phone}</p>
            <p class="text-gray-600 dark:text-gray-300 text-sm"><span class="font-semibold">Company:</span> ${user.company.name}</p>
          `;
          grid.appendChild(card);
        });
      }
    </script>
  </body>
</html>
